<!DOCTYPE html>
<html ng-app="CRM" >
	<head>
		 <meta name="viewport" content="width=device-width, initial-scale=1">
         <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
		<!--<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>-->

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

		 <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
		 <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>
		 <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.css">

		  <!-- ui-select files -->
		  

		 <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/css/bootstrap-select.min.css" />
		  <link href="https://cdnjs.cloudflare.com/ajax/libs/angularjs-toaster/0.4.16/toaster.min.css" rel="stylesheet" />
		<script type="text/javascript" src="bower_components/angular/angular.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-animate.js"></script>
		<script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.13.4.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angularjs-toaster/0.4.16/toaster.min.js"></script>


		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.18/angular-sanitize.js"></script>
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
		<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>-->
		<link rel="stylesheet" type="text/css" href="CRM_Client.css"></link>
		<link rel="stylesheet" href="bower_components/fullcalendar/dist/fullcalendar.css"/>
		<!-- jquery, moment, and angular have to get included before fullcalendar -->
		<script type="text/javascript" src="bower_components/moment/min/moment.min.js"></script>
		<script type="text/javascript" src="bower_components/angular-ui-calendar/src/calendar.js"></script>
		<script type="text/javascript" src="bower_components/fullcalendar/dist/fullcalendar.min.js"></script>
		<script type="text/javascript" src="bower_components/fullcalendar/dist/gcal.js"></script>
		<script src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.13.0.min.js"></script>		 

		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-route.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular-resource.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-cookie/4.1.0/angular-cookie.min.js" integrity="sha256-Wrj5HHKDApceikiZq36OI8gQV6Cjd3FLB/MvyCvgoDY=" crossorigin="anonymous"></script>
		<script src="select.js"></script>
		<link rel="stylesheet" href="select.css">

		<link rel="stylesheet" href="datetimepicker.css" />
		<script src="datetimepicker.js"></script>
		<script type="text/javascript" src="CRM_Client.js"></script>
		
						
		
	</head>
	
	<body>

		<div ng-controller="CRM_controller"> 
		
		    
		    <div ng-show="login_page==true" id="log_in">
			
					<div class="content">
					
					  <div class="text-center">
							<div class="col-xs-3 col-md-offset-6">
							<label class="header_text form-signin-heading text-center text-primary">Please log in</label></p>
									<div class="input-group">
									    <span class="input-group-addon primary"><i class="fa fa-user fa-lg"></i></span>
										<input ng-model="UserNameLogin" class="form-control w-50 p-3"  placeholder="Enter user name" >
									</div>
									</p>
									<div class="input-group">
										<span class="input-group-addon primary"><i class="fa fa-lock fa-lg"></i></span>
										<input ng-model="PasswordLogin" type="password" class="form-control w-50 p-3"  placeholder="Enter Password">
									</div>
									</p>
								
							</div>
							
							<div class="col-xs-1 col-xs-offset-7 ">
							    </p>
								<button class="btn btn-sm  center-block "  style="font-size: 12px;  background-color: #ff6699;color: white;" ng-click="login()">Login</button>
								</p>
							</div>
							
							
							<div class="col-xs-3 col-xs-offset-6 text-primary">
								<label>Not registered yet?</label><a href="#" ng-click="temp_password_page=true;login_page=false;$scope.Admin = false;"> Sign up here</a>
							</div>

					   </div>
				   </div>	
			</div>
			
			 <div ng-show="temp_password_page==true">
			 
			    <form class="temp_password_div">
					<div class="font-weight-bold text-center">
						<div class="text-primary">
								<label class="header_text text-center text-info" ng-show="first_load==true||not_first_load==true" >Hello Administrator</label></br>
								<label class="temp_password_text text-center" ng-show="not_first_load==true" class="form-signin-heading text-center">Please enter the temporary password</label>
								<label class="temp_password_text text-center" ng-show="not_first_load==false" class="form-signin-heading text-center">Please enter the temporary password</label></br>
								<label class="temp_password_text text-center" ng-show="first_load==true" class="form-signin-heading text-center">that you got with the system</label>
								<label class="temp_password_text text-center" ng-show="first_load==false && not_first_load==false" class="form-signin-heading text-center">from administrator </label>
								</br>
									<div class="col-xs-4 col-xs-offset-4" style="margin-top:10px" >
										<div  class="input-group ">							
											<span class="input-group-addon primary"><i class="fa fa-lock fa-lg"></i></span>
											<input ng-model="temp_password" type="password" class="form-control w-50 p-3" id="li_uPassword" placeholder="Enter temporary password"></p>
										</div>
									</div></p>
								</br>
									
									<div class="col-xs-2 col-xs-offset-5 " style="margin-top:10px">
									</p>
										<button class="btn btn-sm center-block  " style="font-size: 15px; background-color: #ff6699;color: white;" ng-click="validation_of_temp_password(temp_password)">verify</button>
										</p>
									</div>
					   </div>
				   </div>
				</form>		
			 </div>
			 
			  <div ng-show="new_temp_password_page==true">
			 
			    <form class="change_temp_password_div ">
					<div class="font-weight-bold text-center col-xs-10">
						<div class="text-primary">
							<div>
								<label class="temp_password_text text-center col-md-offset-4" class="text-center">Please change the temporary password</label></br>
								<label class="temp_password_text text-center col-md-offset-4" class="text-center">that you got with the system</label>
							</div>
							</br>
							
							<div class="col-xs-4 col-md-offset-6">
								<div class="input-group">
								    <span class="input-group-addon primary"><i class="fa fa-lock fa-lg"></i></span>
									<input ng-model="new_temporary_password" type="password" class="form-control w-50 p-3"  placeholder="Enter a new temprorary Password">
								</div>
								</br>
								<div class="input-group">
									<span class="input-group-addon primary"><i class="fa fa-lock fa-lg"></i></span>
									<input ng-model="new_temporary_validation_password" type="password" class="form-control w-50 p-3"  placeholder="Enter password again for validation">
								</div>
								</br>
								<div class="col-xs-2 col-xs-offset-4 ">
									<button class="btn btn-md center-block " style="background-color: #ff6699;color: white; margin-top:10px" ng-click="change_temp_password()">verify</button>
								</div>
							</div>
					   </div>
				   </div>
				</form>		
			 </div>
		
		    <div ng-show="register_page == true" id="sign_up" >
				<div class="sign_up_div col-xs-4">
					<div>
						<label class=" text-center text-primary col-md-offset-6" style="font-size: 30px;">Please Sign Up</label>
					</div>
					</br>
					
					<div class="col-xs-4 col-md-offset-5">
						<div class="input-group">
							<span class="input-group-addon primary"><i class="fa fa-user fa-lg"></i></span>
							<input ng-disabled="Admin==true" ng-model="registration_user_name" class="form-control w-50 p-3" placeholder="Enter user name">
							
						</div>
						</br>
						<div class="input-group">
							<span class="input-group-addon primary"><i class="fa fa-user fa-lg"></i></span>
							<input ng-model="registration_name" class="form-control w-50 p-3" placeholder="Enter name">	
						</div>
						</br>
						<div class="input-group">
							<span class="input-group-addon primary"><i class="fa fa-at fa-md" style="font-size:15px"></i></span>
							<input ng-model="registration_email" type="email" class="form-control w-50 p-3"  aria-describedby="emailHelp" placeholder="Enter email address">				
						</div>
						</br>
						
						<div class="input-group">
							<span class="input-group-addon primary"><i class="fa fa-lock fa-lg"></i></span>
							<input ng-model="registration_password" type="password" class="form-control w-50 p-3"  placeholder="Enter Password">	
						</div>
						</br>
						
						<div class="input-group">
							<span class="input-group-addon primary"><i class="fa fa-lock fa-lg"></i></span>
							<input ng-model="registration_validation_password" type="password" class="form-control w-50 p-3"  placeholder="Enter Password again for validation">
						</div>
						</br>
					</div>
					
					<div class="col-xs-2 col-xs-offset-6" > 
						<button class="btn btn-md center-block" style="background-color: #ff6699;color: white;" ng-click="signUp()">Submit</button>
					</div>
				</div>
			</div>
			
		<div ng-show="all_system==true">
			
			<div class="account_div" ng-show="account==true">

				<div class="dropdown" >
					 <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<i style = "font-size: 50px; margin-bottom:10px" class="fa fa-user-circle-o fa-lg"></i>
						</br>
						<label class="text-primary" style = "font-size: 15px;">{{name_of_user}}</label></br>
						<label class="text-primary" style = "font-size: 15px;">{{role_of_user}}</label>
						<span class="caret"></span>
						</a>
						</br>
					<ul class="dropdown-menu">
						<li class="hover_color" ng-click="change_password()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-lock fa-fw"></i> change password</a></li>
						<li class="hover_color" ng-click="sign_out()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-sign-out fa-fw"></i> Logout      </a></li>
					</ul>
				</div>
			</div>
			
			<div ng-show = "menu==true" id="div-vertical" class="navbar">
				<ul>
					<li a class="active" ng-click="get_users_function('showUsers')"><a><i class="fa fa-fw fa-user" ></i></p>Users</a></li>
					<li ng-click="get_contacts_function()"><a><i class="fa fa-fw fa-user"></i></p>Customers</a></li>
					<li ng-click="get_specific_contacts_function()"><a><i class="fa fa-fw fa-user" ></i></p>Handle customers</a></li>
					<li ng-click="calendar_function()"><a><i class="fa fa-calendar" ></i></p>Calendar</a></li> 
					<li ng-click="settings_function()" ng-show="admin_page==true"><a><i class="fa fa-gear"></i></p>Settings </a></li> 
				</ul>
			</div>
			
			<div id="info_navbar">
			<!--contacts table-->
			    <form id="users_div" ng-show="show_users == true;"><!-- -->
					<div class="input-group input-group">
						<span class="input-group-addon">
							<span class="glyphicon glyphicon-search" style="color:#003366" aria-hidden="true">
							</span>
						</span>	
						<input  class="form-control-md-6" ng-model="search" placeholder="search...">
					</div>
					<div class="col-lg-20">
						<table align="right" class="table table-hover-responsive"  class="text-center" >
							<thead>

								<tr class="table_head">
									<th>Role</th>
									<th>Name</th>
									<th ng-show="isAdmin==true" >Username</th>
									<th>Email</th>
									<th ng-show="isAdmin==true"> </th>
									<th ng-show="isAdmin==true"> </th>
									<th ng-show="isAdmin==true"> </th>	
								</tr>
							<thead>
							<tbody>
								<tr ng-repeat="userInfo in users | filter:search" ng-init="userIsEdit = false;username='Admin'">
									<td ng-show="userIsEdit==false">{{userInfo.Role}}</td>
									<td ng-show="userIsEdit==false">{{userInfo.Name}}</td>
									<td ng-show="userIsEdit==false && isAdmin==true">{{userInfo.UserName}}</td> 
									<td ng-show="userIsEdit==false">{{userInfo.eMail}}</td>

									
									<td ng-show="userIsEdit==false && isAdmin==true && username!=userInfo.UserName "><i class="fa fa-edit" style="font-size:24px;color:#008fb3"  aria-hidden="true" ng-click = "userIsEdit =!userIsEdit;update_user_function(userInfo)"></i></td>
									<div ng-if="userIsEdit" class="form-group row" >
										
										
										<td ng-show="userIsEdit==true"><div class="form-group" >
											<select class="form-control"   ng-model="role" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="onChangeCategory(role)"  >
								               
											
												 <!--<optionng-repeat=" role in roles" > {{role.Role}}</style></option>-->
										    </select>

										</div></td>
									    <td ng-show="userIsEdit==true">{{userInfo.Name}}</td>
									    <td ng-show="userIsEdit==true">{{userInfo.UserName}}</td> 
									    <td ng-show="userIsEdit==true">{{userInfo.eMail}}</td>
										
									</div>
									
									<td ng-show="isAdmin==true && username!=userInfo.UserName "><i class="fa fa-trash" style="font-size:24px;color:#003366" ng-show="userIsEdit==false" aria-hidden="true" ng-click = "delete_user(userInfo.UserName)"></i></td>
									<td ng-show="userIsEdit==true"><i class="fa fa-check-square-o" style="font-size:24px;color:#00e600" aria-hidden="true" ng-click = "save_updated_user(userInfo)"></i></td>
									 
									 		
								</tr>
															
							</tbody></p>
						</table>
					</div>
				</form>
				<form id="contacts_div" ng-show="show_contacts"><!-- -->
					<div class="input-group input-group">
						<span class="input-group-addon">
							<span class="glyphicon glyphicon-search" style="color:#003366" aria-hidden="true">
							</span>
						</span>	
						<input class="form-control-md-6" ng-model="search" placeholder="search...">
					</div>
					<div class="col-lg-20">
						<table align="right" class="table table-hover-responsive"  class="text-center" >
							<thead>

								<tr class="table_head">
									<th>Category</th>
									<th>Status</th>
									<th>Name</th>
									<th>Phone Number</th>
									<th>Email</th>
									<th>Address</th>
									<th> </th>
									<th> </th>
									<th> </th>
									<th> </th>
									<th> </th>
								</tr>
							<thead>
							<tbody>
								<tr ng-repeat="contactInfo in contactsInfo | filter:search" ng-init="contactIsEdit = false;">
										<td ng-show="contactIsEdit==false">{{contactInfo.Category.Role}}</td>
										<td ng-show="contactIsEdit==false">{{contactInfo.Status}}</td>
										<td ng-show="contactIsEdit==false">{{contactInfo.Name}}</td>
										<td ng-show="contactIsEdit==false">{{contactInfo.PhoneNumber}}</td> 
										<td ng-show="contactIsEdit==false">{{contactInfo.eMail}}</td>
										<td ng-show="contactIsEdit==false">{{contactInfo.Address}}</td>
										
									
									<td ng-show="contactIsEdit==false"><i  class="fa fa-calendar" style="font-size:24px;color:#cc99ff" aria-hidden="true" ng-click = "calendarContact(contactInfo)" ></i></td>
									<td ng-show="contactIsEdit==false"><i class="fa fa-envelope" style="font-size:24px;color:#00b3b3" aria-hidden="true" ng-click = "sendMailModal(contactInfo.eMail)" ></i></td>
									
									<td ng-show="contactIsEdit==false"><i class="fa fa-edit" style="font-size:25px;color:#008fb3"  aria-hidden="true" ng-click = "contactIsEdit =!contactIsEdit;update_contact_function(contactInfo)"></i></td>
									<div ng-if="contactIsEdit" class="form-group row" >										
										
										<td ng-show="contactIsEdit==true"><div class="form-group" >	
											<select class="form-control" ng-model="role_category" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="onChangeCategory(role_category)" ><!---->
											
												 <!--<optio
												 nng-repeat=" role in roles" > {{role.Role}}</style></option>-->
											 </select>
										</div></td>	
										<td ng-show="contactIsEdit==true"><div class="form-group" ng-if="role_category">
											
											<select class="form-control" ng-model="status_role" ng-options="status_role disable when status_role === '-- Choose status --'  for status_role in role_category.Statuses"  ng-change="onChange(status_role)"><!--  -->
											<!--<option  ng-repeat="status in role.Statuses">{{status}}</option>-->
										    </select>

										</div></td>
										
										<td ng-show="contactIsEdit==true"><input ng-model="contactInfo.Name" type="text" class="form-control" /></td>
										<td ng-show="contactIsEdit==true"><input ng-model="contactInfo.PhoneNumber" type="text" class="form-control" /></td> 
										
										<td ng-show="contactIsEdit==true"><input ng-model="contactInfo.eMail" type="text" class="form-control" /></td>
										<td ng-show="contactIsEdit==true"><input ng-model="contactInfo.Address" type="text" class="form-control" /></td>	
									</div>
                             
									<td ng-show="contactIsEdit==false"><i class="fa fa-trash" style="font-size:24px;color:#003366"  aria-hidden="true" ng-click = "delete_contact_function(contactInfo)"></i></td>
									<td ng-show="contactIsEdit==false"> <i class="fa fa-history" style="font-size:24px;color:#003366"  pop-over history="contactInfo.History", title="History"></i>
      
    <script type="text/ng-template" id="popover_template.html">
      <div>
         <pre><span ng-repeat='contact_history in history track by $index'>{{contact_history}}<b><hr></b></span>
</pre>
      </div>
    </script><td>
									<td ng-show="contactIsEdit==true"><i class="fa fa-check-square-o" style="font-size:24px;color:#00e600" aria-hidden="true" ng-click = "save_updated(contactInfo)"></i></td>
									 
									 		
								</tr>
								
								<tr ng-show="get_new_contact_details==true">
									<!--<td ><div class="form-group">
										<select class="form-control" id="status_select" ng-model="newStatus" ng-change="onChange(newStatus)">
								            <option value=''>-- Choose status --</option>
											<option ng-repeat="option in options">{{option.Status}}</option>
											<option >add a new status</option>
										</select>
										
									</div></td>-->
									<td><div class="form-group" ng-init="role">	
											<select class="form-control" data-show-subtext="true" data-live-search="true" ng-model="role" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="onChangeCategory(role)" >
											
												 <!--<optionng-repeat=" role in roles" > {{role.Role}}</style></option>-->
											 </select>
									</div></td>	
									<td><div class="form-group" ng-if="role" ng-init="status_role">
										<select class="form-control" ng-model="status_role" ng-options="status_role disable when status_role === '-- Choose status for role --'  for status_role in role.Statuses"  ng-change="onChange(status_role)"><!--  -->
											<!--<option  ng-repeat="status in role.Statuses">{{status}}</option>-->
										</select>

									</div></td>
									<td><input ng-model="newName" type="text" class="form-control" placeholder="Name" maxlength="25"/></td>
									<td><input ng-model="newPhoneNumber"  type="text" placeholder="Phone Number"  class="form-control is-invalid" required /></td>
									<td><input ng-model="newEmail" type="text" class="form-control" placeholder="Email" /></td>
									<td><input ng-model="newAddress" type="text" class="form-control" placeholder="Address" maxlength="35"/></td>
									<td><i ng-click="check_and_save_details()" style="font-size:24px;color:#00e673" class="fa fa-check-square-o"/></td>
									<td><i class="fa fa-times" style="font-size:24px;color:#ff3333" ng-click="cancel_function()"></i></td>
									
								</tr>
								<tr ng-show="show_contacts==true">
									<td></td>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
									
									<td ng-show="click==true"><i class="fa fa-user-plus" style="font-size:24px;color:#00cc99" ng-click="add_contact_function() "></i></td> 
								</tr>
															
							</tbody></p>
						</table>
					</div>
				</form>
				
				 <toaster-container toaster-options="{'time-out': 3000}"></toaster-container>
				
			<div ng-show="show_calendar==true">
				
			<div id="calendar_div" >
		         
				  
						 
					<div id="calendar" ui-calendar="calendarConfig" ng-model="eventSources" calendar="myCalendar"></div></br>
					<button type="button" class="btn btn-primary" ng-click="add_even_outside_calendar();">
					  Add Event
					</button>
					
					</div>	 
			  
                <div id="map_lenged_div" class="text-center">
				 
					<div class="text-info"><label style = "font-size: 16px;vertical-align: middle;"> Map lenged:</label></div>
					<table align="right">
						<thead class="text-center">

							<tr class="text-primary">
								<th style="padding-right:5px">Color</th>
								<th>Role</th>
							</tr>
						<thead>
						<tbody>
							<tr ng-repeat="role in roles" ng-if="$index > 0">
							<td style="padding-right:5px"> <svg style="display: block" width="40" height="7"> <rect width="40" height="7" ng-style="{fill:role.Color}" /></svg></td>
							<td>{{role.Role}}</td>
							</tr>
						</tbody>
					</table>
					

				</div>	 
					
			</div>	 
					
                <div ng-show="show_settings==true">
					<div class="dropdown" id="users_settings_div" >
					 <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<i style = "font-size: 50px; margin-bottom:10px" class="fa fa-users fa-lg"></i>
						</br>
						<label class="text-primary" style = "font-size: 18px;">Users</label>
						<span class="caret"></span>
						</a>
						</br>
						<ul class="dropdown-menu">
							<li class="hover_color" ng-click="getUsersList('deleteUser')"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-trash fa-fw"></i> delete user</a></li>
							<li class="hover_color" ng-click="insure_delete_all_users()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-trash fa-fw"></i> delete all users</a></li>
						</ul>
						
					</div>
					
					<div class="dropdown" id="contacts_settings_div">
					 <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<i style = "font-size: 50px; margin-bottom:10px" class="fa fa-address-book fa-lg"></i>
						</br>
						<label class="text-primary" style = "font-size: 18px;">Contacts</label>
						<span class="caret"></span>
						</a>
						</br>
						<ul class="dropdown-menu">
							<li class="hover_color" ng-click="insure_delete_all_contacts()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-trash fa-fw"></i> delete all contacts</a></li>
						</ul>
					</div>
					
					<div class="dropdown" id="system_settings_div">
					 <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<i style = "font-size: 60px; margin-bottom:3px" class="fa fa-laptop fa-lg"></i>
						</br>
						<label class="text-primary" style = "font-size: 18px;">System</label>
						<span class="caret"></span>
						</a>
						</br>
						
						<ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dropdownMenu">
							<li class="dropdown-submenu">
							    <a tabindex="-1" href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-id-badge fa-fw"></i> status settings</a>
								<ul class="dropdown-menu">
									<li class="dropdown-submenu">
									  <a tabindex="-1" href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-plus fa-fw"></i>add new status</a>
										  <ul class="dropdown-menu">
											<li class="hover_color " ng-click="add_new_status_to_system()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-plus fa-fw"></i> to system</a></li>
											<li class="hover_color" ng-click="add_new_status_to_role()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-plus fa-fw"></i> to role   </a></li>
										  </ul>
									</li>
									<li class="dropdown-submenu">
									  <a tabindex="-1" href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-trash fa-fw"></i> delete status</a>
										  <ul class="dropdown-menu">
											<li class="hover_color" ng-click="delete_status_system_settings()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-trash fa-fw"></i> from system</a></li>
											<li class="hover_color" ng-click="delete_status_role_settings()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-trash fa-fw"></i> from role   </a></li>
										  </ul>
									</li>								 
								</ul>
							</li>
							 </br>
							  <li class="dropdown-submenu">
							  <a tabindex="-1" href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-address-card-o fa-fw"></i> role settings</a>
								  <ul class="dropdown-menu">
									<li class="hover_color" ng-click="add_new_role()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-plus fa-fw"></i> add new role</a></li>
									<li class="hover_color" ng-click="update_role()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-edit fa-fw"></i> update role</a></li>
									<li class="hover_color" ng-click="display_role_list()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-trash fa-fw"></i> delete role   </a></li>
								  </ul>
							  </li>
						      <li class="dropdown-submenu">
							  <a tabindex="-1" href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-file-pdf-o fa-fw"></i> file settings</a>
								  <ul class="dropdown-menu">
									<li class="hover_color" ng-click="add_file()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-plus fa-fw"></i> add new file</a></li>
									<li class="hover_color" ng-click="show_delete_file_modal()"><a href="#"><i style =" color: rgb(50, 118, 177);" class="fa fa-trash fa-fw"></i> delete file   </a></li>
								  </ul>
							  </li>
						
							
						</ul>
					</div>
				    
				</div>
			
				
				
			</div>
		</div>
		
		<div class="modal fade" id="Message_Modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal Header -->
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">
								{{message_type}}
							</h4>
						</div>
						
						<!-- Modal Body -->
						<div class="modal-body">
							
							<div class="form-horizontal" role="form">
							  <div class="form-group">
								<div class="col-sm-10">
								{{message}}
								</div>
							  </div>
							  
							</div>				
						</div>
						
						<!-- Modal Footer -->
						<div class="modal-footer">
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="repeat_message()">
										ok
							</button>


						</div>
					</div>
				</div>
			</div>

			<div class="modal fade" id="Message_Modal_With_Cancel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal Header -->
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">
								{{message_type}}
							</h4>
						</div>
						
						<!-- Modal Body -->
						<div class="modal-body">
							
							<div class="form-horizontal" role="form">
							  <div class="form-group">
								<div class="col-sm-10">
								{{message}}
								</div>
							  </div>
							  
							</div>				
						</div>
						
						<!-- Modal Footer -->
						<div class="modal-footer">
							<button type="button" class="btn btn-primary" data-dismiss="modal">
										cancel
							</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="response_ok()">
										ok
							</button>

						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" id="validation_current_password_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal Header -->
						<div class="modal-header">
							<button type="button" class="close" 
							   data-dismiss="modal">
								   <span aria-hidden="true">&times;</span>
								   <span class="sr-only">Close</span>
							</button>
							<h4 class="modal-title" id="myModalLabel">
								New Password
							</h4>
						</div>
						
						<!-- Modal Body -->
						<div class="modal-body">
							
							<div class="form-horizontal" role="form">
							  <div class="form-group">
								<div class="col-sm-10">
									</br>
									<div class="input-group">
										<span class="input-group-addon primary"><i class="fa fa-lock fa-lg"></i></span>
										<input ng-model="current_password" type="password" class="form-control w-50 p-3"  placeholder="Enter your current password">	
									</div>
									</br>
								</div>
							  </div>
							  
							</div>				
						</div>
						
						<!-- Modal Footer -->
						<div class="modal-footer">
							<button type="button" class="btn btn-default"
									data-dismiss="modal">
										Close
							</button>
							<button type="button" class="btn btn-primary" ng-click="verify_password(current_password)" data-dismiss="modal">
								Verify
							</button>
						</div>
					</div>
				</div>
			</div>
	
				
					
			
			
			<div class="modal fade" id="change_password_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal Header -->
						<div class="modal-header">
							<button type="button" class="close" 
							   data-dismiss="modal">
								   <span aria-hidden="true">&times;</span>
								   <span class="sr-only">Close</span>
							</button>
							<h4 class="modal-title" id="myModalLabel">
								New Password
							</h4>
						</div>
						
						<!-- Modal Body -->
						<div class="modal-body">
							
							<div class="form-horizontal" role="form">
							  <div class="form-group">
								<div class="col-sm-10">
									</br>
									<div class="input-group">
										<span class="input-group-addon primary"><i class="fa fa-lock fa-lg"></i></span>
										<input ng-model="new_password" type="password" class="form-control w-50 p-3"  placeholder="Enter new password">	
									</div>
									</br>
									</br>
									<div class="input-group">
										<span class="input-group-addon primary"><i class="fa fa-lock fa-lg"></i></span>
										<input ng-model="verify_new_password" type="password" class="form-control w-50 p-3"  placeholder="Enter Password again for validation">	
									</div>
									</br>
								</div>
							  </div>
							  
							</div>				
						</div>
						
						<!-- Modal Footer -->
						<div class="modal-footer">
							<button type="button" class="btn btn-default"
									data-dismiss="modal">
										cancel
							</button>
							<button type="button" class="btn btn-primary" ng-click="change_password_function(new_password)" data-dismiss="modal">
								change
							</button>
						</div>
					</div>
				</div>
		</div>
		
		<div class="modal fade" id="Email_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal Header -->
						<div class="modal-header">
							<button type="button" class="close" 
							   data-dismiss="modal">
								   <span aria-hidden="true">&times;</span>
								   <span class="sr-only">Close</span>
							</button>
							<h4 class="modal-title" id="myModalLabel">
								Send Email
							</h4>
						</div>
						
						<!-- Modal Body -->
						<div class="modal-body">
							
							<div class="form-horizontal" role="form">
							 <!-- TO field -->
							  <div class="form-group text-primary">
								<label class="control-label col-sm-2">To: {{contact_email}}</label>
								
							  </div>

							  <!-- Subject field -->
							  <div>
								 <div class="form-group text-primary"><label class="control-label col-sm-2">Subject:</label></div>
								<div class="form-group col-sm-10">
								  <input type="text" ng-model="email_subject" class="form-control" placeholder="Enter Subject">
								</div>
							  </div>
							  
							 					  
							  <div>
								<div class="form-group text-primary"><label class="control-label col-sm-2">Body:</label></div>
								<div class="form-group col-sm-10">
								  <textarea ng-model="email_body" class="form-control" rows="10"></textarea>
								</div>
							  </div>
							  
							  <div class="form-group col-sm-10"><input type="checkbox" ng-model="email_file" /><em style =" color:#ff0066"> add file </em></div>
							  <div ng-if="email_file">
							  <div class="col-sm-10 text-primary">
									<div>
										</br><b>Select file:</b>
									</div>
					
							   </br>
							  <div class="form-group col-sm-4">
								<ui-select ng-model="selections[$index]" ng-change="selectionChanged($index)" theme="bootstrap">
								  <ui-select-match placeholder="Select contact...">{{$select.selected.Name}}</ui-select-match>
								  <ui-select-choices repeat="contactInfo in contactsInfo | filter: $select.search track by $index">
											<div ng-bind-html="contactInfo.Name | highlight: $select.search"></div>
											<small ng-bind-html="contactInfo.PhoneNumber | highlight: $select.search"></small>
								  </ui-select-choices>
								</ui-select>
							  </div>
							</div>
							</div>		

							  
							</div>				
						</div>
						
						<!-- Modal Footer -->
						<div class="modal-footer">
							<button type="button" class="btn btn-default"
									data-dismiss="modal">
										cancel
							</button>
							<button type="button" class="btn btn-primary" ng-click="send_Email_function(contact_email,email_subject,email_body)" data-dismiss="modal">
								send
							</button>
						</div>
					</div>
				</div>
		</div>
		
		
	
			<div class="modal fade" id="add_event_outside" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">
								New Task
							</h4>
						</div>
						
						<div class="modal-body" >
							
							<div class="form-horizontal" role="form">
							  <div class="form-group ">
								<div class="col-sm-10 text-primary">
									<div>
										<b>Category:</b>
									</div>
					
							   </br>
							   <div>
								   <select class="form-control"  ng-model="role" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="selected_item(role)"  >
								  </select></br>
								  </div>
							</div>
							
							 <div class="col-sm-10"><input type="checkbox" ng-model="contact_task" /><em style =" color:#ff0066"> Task for contact</em></div>
							 <div ng-if="contact_task">
							  <div class="col-sm-10 text-primary">
									<div>
										</br><b>Select contant for task:</b>
									</div>
					
							   </br>
							  <div class="col-sm-4">
								<ui-select ng-model="selections[$index]" ng-change="selectionChanged($index)" theme="bootstrap">
								  <ui-select-match placeholder="Select contact...">{{$select.selected.Name}}</ui-select-match>
								  <ui-select-choices repeat="contactInfo in contactsInfo | filter: $select.search track by $index">
											<div ng-bind-html="contactInfo.Name | highlight: $select.search"></div>
											<small ng-bind-html="contactInfo.PhoneNumber | highlight: $select.search"></small>
								  </ui-select-choices>
								</ui-select>
							  </div>
							</div>
							</div>
							 
							
							

								<div class="col-sm-10 text-primary"></br>
								<b>Task description:</b>
								</div>
								<div class="col-sm-10 text-primary">
									</br><input class="form-control" ng-model="title" placeholder="Enter title..."/>
								 </div>
								 
								<div class="col-sm-10 text-primary">

									 </br><div><b>Start Date Time:<b></div>
									</br><div class="dropdown">
								  <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<div class="input-group">
									  <input type="text" class="form-control" data-ng-model="event_start" />
									  <span class="input-group-addon">
										<i class="glyphicon glyphicon-calendar"></i>
									  </span>
									</div>
								  </a>
								  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
									<datetimepicker data-ng-model="event_start" data-datetimepicker-config="{ dropdownSelector: '#dropdown2' }"></datetimepicker>
								  </ul>
								</div>
							 


							  </br><div><b>End Date Time:</b></div>
									  </br><div class="dropdown">
								  <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<div class="input-group">
									  <input type="text" class="form-control" data-ng-model="event_end" />
									  <span class="input-group-addon">
										<i class="glyphicon glyphicon-calendar"></i>
									  </span>
									</div>
								  </a>
								  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
									<datetimepicker data-ng-model="event_end" data-datetimepicker-config="{ dropdownSelector: '#dropdown3' }"></datetimepicker>
								  </ul>
								</div>
							  </div>
							  </div>
							  
						  </div>
						</div>

							  
						
						
						<div class="modal-footer" >
							<button type="button" class="btn btn-primary" data-dismiss="modal">
										cancel
							</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addEvent();">
										ok
							</button>

						</div>
					</div>
				</div>
			</div>		
			<div class="modal fade" id="add_event" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">
								New Task
							</h4>
						</div>
						
						<div class="modal-body" >
							
							<div class="form-horizontal" role="form">
							  <div class="form-group ">
								<div class="col-sm-10 text-primary">
									<div>
										<b>Category:</b>
									</div>
					
							   </br>
							   <div>
								   <select class="form-control"  ng-model="role" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="selected_item(role)"  >
								  </select></br>
								  </div>
							</div>
							
							 <div class="col-sm-10"><input type="checkbox" ng-model="contact_task" /><em style =" color:#ff0066"> Task for contact</em></div>
							 <div ng-if="contact_task">
							  <div class="col-sm-10 text-primary">
									<div>
										</br><b>Select contant for task:</b>
									</div>
					
							   </br>
							  <div class="col-sm-4">
								<ui-select ng-model="selections[$index]" ng-change="selectionChanged($index)" theme="bootstrap">
								  <ui-select-match placeholder="Select contact...">{{$select.selected.Name}}</ui-select-match>
								  <ui-select-choices repeat="contactInfo in contactsInfo | filter: $select.search track by $index">
											<div ng-bind-html="contactInfo.Name | highlight: $select.search"></div>
											<small ng-bind-html="contactInfo.PhoneNumber | highlight: $select.search"></small>
								  </ui-select-choices>
								</ui-select>
							  </div>
							</div>
							</div>
							 
							
							

								<div class="col-sm-10 text-primary"></br>
								<b>Task description:</b>
								</div>
								<div class="col-sm-10 text-primary">
									</br><input class="form-control" ng-model="title" placeholder="Enter title..."/>
								</div>
								 
								<div class="col-sm-10 text-primary"></br>
									<b>Date range:</b>
								</div></br>
								<div class="col-sm-10">
									</br><input class="form-control" ng-model="date"/>
								</div>
							  </div>
							  
							  
						  </div>
						</div>

							  
						
						
						<div class="modal-footer" >
							<button type="button" class="btn btn-primary" data-dismiss="modal">
										cancel
							</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addEvent(contact_task);">
										ok
							</button>

						</div>
					</div>
				</div>
			</div>	
		
		
		
			
			<div class="modal fade" id="edit_or_delete_event" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">
								Edit / Delete task
							</h4>
						</div>
						
						<div class="modal-body">
							
							<div class="form-horizontal" role="form">
								<div class="form-group ">
									<div ng-show="taskIsEdit==true" class="col-sm-10 text-primary">
										<div>
											<b>Category:</b>
										</div>
						
										</br>
										<div>
											<select class="form-control"  ng-model="role" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="selected_item(role)"  >
											</select></br>
										</div>
									</div>
								<div ng-show="contactSelected==true">	
									<div  ng-show="taskIsEdit==false" class="col-sm-10 text-primary"></br>
									  <b>Contact:</b>
								    </div>
								    <div ng-show="taskIsEdit==false" class="col-sm-10">
									   </br>{{contact_event}}<a href=""><em style =" color:#ff0066;" ng-click="go_to_contact()"> go to contact</em></a>
								    </div>
								 </div>
							
							    <div  ng-show="taskIsEdit==true" class="col-sm-10"><input type="checkbox" ng-model="contact_task" /><em style =" color:#ff0066"> Task for contact</em></div>
							    <div ng-show="taskIsEdit==true" ng-if="contact_task">
									<div class="col-sm-10 text-primary">
										<div>
											</br><b>Select contant for task:</b>
										</div>
						
										</br>
										<div class="col-sm-4">
											<ui-select ng-model="selections[$index]" ng-change="selectionChanged($index)" theme="bootstrap">
												<ui-select-match placeholder="Select contact...">{{$select.selected.Name}}</ui-select-match>
												<ui-select-choices repeat="contactInfo in contactsInfo | filter: $select.search track by $index">
													<div ng-bind-html="contactInfo.Name | highlight: $select.search"></div>
													<small ng-bind-html="contactInfo.PhoneNumber | highlight: $select.search"></small>
												</ui-select-choices>
											</ui-select>
										</div>
									</div>
							    </div>
							 
							
							

							<div  class="col-sm-10 text-primary"></br>
								<b>Task description:</b>
							</div>
							<div ng-show="taskIsEdit==true" class="col-sm-10 text-primary">
								</br><input class="form-control" ng-model="event_title" placeholder="Enter title..."/>
							</div>
							<div ng-show="taskIsEdit==false" class="col-sm-10">
								</br>{{event_title}}
							</div>
							<div ng-show="taskIsEdit==false" class="col-sm-10 text-primary"></br>
								<b>Date range:</b>
							</div></br>
							<div ng-show="taskIsEdit==false" class="col-sm-10">
								</br>{{event_date}}
							</div>
							
							
							
							<div  class="col-sm-10 text-primary" ng-show="taskIsEdit==true" >
								</br><div><b>Start Date Time:<b></div>
							  </br><div class="dropdown">
								  <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<div class="input-group">
									  <input type="text" class="form-control" data-ng-model="event_start" />
									  <span class="input-group-addon">
										<i class="glyphicon glyphicon-calendar"></i>
									  </span>
									</div>
								  </a>
								  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
									<datetimepicker data-ng-model="event_start" data-datetimepicker-config="{ dropdownSelector: '#dropdown2' }"></datetimepicker>
								  </ul>
								</div>
							 


							  </br><div><b>End Date Time:</b></div>
									  </br><div class="dropdown">
								  <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<div class="input-group">
									  <input type="text" class="form-control" data-ng-model="event_end" />
									  <span class="input-group-addon">
										<i class="glyphicon glyphicon-calendar"></i>
									  </span>
									</div>
								  </a>
								  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
									<datetimepicker data-ng-model="event_end" data-datetimepicker-config="{ dropdownSelector: '#dropdown3' }"></datetimepicker>
								  </ul>
								</div>
								
							 
							  
								  
							</div>
						</div>
						</div>
						</div>
					

							  
						
						
						<div class="modal-footer">
							<div ng-show="taskIsEdit==false">
								<button type="button" class="btn btn-default" >
									<b><i style =" color:#ff0066" class="fa fa-edit fa-2x" ng-click="taskIsEdit=true"></i></b>
								</button>
								<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="deleteEvent()">
										<b><i style =" color: rgb(50, 118, 177);" class="fa fa-trash fa-2x"></i></b>
								</button>
							</div>
							<div ng-show="taskIsEdit==true">
								<button type="button" class="btn btn-primary" data-dismiss="modal">
											cancel
								</button>
								<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="save_edit_event()">
											save
								</button>
							</div>

						</div>
					</div>
				</div>
			</div>	
			
			<div class="modal fade" id="delete_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal Header -->
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">
								{{message_type}}
							</h4>
						</div>
						</br>
						<!-- Modal Body -->
						<div class="modal-body">
							
							<div class="row-fluid">
							  <select class="form-control" data-show-subtext="true" data-live-search="true" ng-model="username" ng-change="user_selected(username)">
							    <option value='' disabled="disabled">-- Choose user --</option>
								<option ng-repeat="user in users" >Name: {{user.Name}} , User name: {{user.UserName}}</style></option>
							  </select>
							</div>
						  </div>
						  
							  				
						</br>
						
						<!-- Modal Footer -->
						<div class="modal-footer">
							<button type="button" class="btn btn-primary" data-dismiss="modal">
										cancel
							</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="delete_user()">
										delete
							</button>

						</div>
					</div>
						<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
						  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
						  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>-->
				</div>
			</div>
			
			<div class="modal fade" id="add_new_status_to_system_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<!-- Modal Header -->
							<div class="modal-header">
								<button type="button" class="close" 
								   data-dismiss="modal">
									   <span aria-hidden="true">&times;</span>
									   <span class="sr-only">Close</span>
								</button>
								<h4 class="modal-title" id="myModalLabel">
									Add status to the system
								</h4>
							</div>
							</br>
							<!-- Modal Body -->
							<div class="modal-body">
								
								<div class="form-horizontal" role="form">
								  <div class="form-group">
								  </br>
									<div class="col-sm-10">
										<input class="form-control" ng-model="system_status_from_modal" placeholder="Enter new status..."/>
								    </div>
								  </div>
								  
								</div>
								
								</br>
						  </div>								
						
							</br>
							<!-- Modal Footer -->
							<div class="modal-footer">
								<button type="button" class="btn btn-default"
										data-dismiss="modal">
											Close
								</button>
								<button type="button" class="btn btn-primary" ng-click="save_new_system_status()" data-dismiss="modal">
									Save
								</button>
							</div>
							
						</div>
					</div>
				</div>
				
			
			<div class="modal fade" id="add_new_status_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<!-- Modal Header -->
							<div class="modal-header">
								<button type="button" class="close" 
								   data-dismiss="modal">
									   <span aria-hidden="true">&times;</span>
									   <span class="sr-only">Close</span>
								</button>
								<h4 class="modal-title" id="myModalLabel">
									Add status to user role
								</h4>
							</div>
							</br>
							<!-- Modal Body -->
							<div class="modal-body">
								
								<div class="form-horizontal" role="form">
								  <div class="form-group">
								  </br>
									<div class="col-sm-10">
										<input class="form-control" ng-model="status_from_modal" placeholder="Enter new status..."/>
								    </div>
								  </div>
								  
								</div>
								
								</br>

                             <div class="row-fluid">
							  <select class="form-control"   ng-model="role" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="selected_item(role,'new role')"  >
							  </select>

							</div>
						  </div>								
						
							</br>
							<!-- Modal Footer -->
							<div class="modal-footer">
								<button type="button" class="btn btn-default"
										data-dismiss="modal">
											Close
								</button>
								<button type="button" class="btn btn-primary" ng-click="save_new_status_roles()" data-dismiss="modal">
									Save
								</button>
							</div>
							
						</div>
							<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
						  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
						  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>-->
					</div>
				</div>
				
				<div class="modal fade" id="delete_status_from_system_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<!-- Modal Header -->
							<div class="modal-header">
								<button type="button" class="close" 
								   data-dismiss="modal">
									   <span aria-hidden="true">&times;</span>
									   <span class="sr-only">Close</span>
								</button>
								<h4 class="modal-title" id="myModalLabel">
									Select status to delete from system
								</h4>
							</div>
							</br>
							<!-- Modal Body -->
							<div class="modal-body">	
							</br>
                             <div class="row-fluid">
							    <select class="form-control" ng-model="item" ng-options="objStatus as objStatus.Status disable when objStatus.Status  === '-- Choose status --' for objStatus in options " ng-change="selected_item(item,'delete status')"  >
							    </select>
							</div>
						  </div>								
						
							</br>
							<!-- Modal Footer -->
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">
											cancel
								</button>
								<button type="button" class="btn btn-primary" ng-click="delete_status_from_system()" data-dismiss="modal">
									delete
								</button>
							</div>
							
						</div>
							<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
						  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
						  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>-->
					</div>
				</div>
				
				<div class="modal fade" id="delete_status_from_role_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<!-- Modal Header -->
							<div class="modal-header">
								<button type="button" class="close" 
								   data-dismiss="modal">
									   <span aria-hidden="true">&times;</span>
									   <span class="sr-only">Close</span>
								</button>
								<h4 class="modal-title" id="myModalLabel">
									Select status from a role to delete
								</h4>
							</div>
							
							<!-- Modal Body -->
							<div class="modal-body">
								
								<div class="form-horizontal" role="form">
								  <div class="form-group">
									<div class="col-sm-10">
										</br>
										<select class="form-control" data-show-subtext="true" data-live-search="true" ng-model="role" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="onChangeCategory(role)" ></select>	
										</br>
										<div ng-if="role">
											<select class="form-control" ng-model="status_role" ng-options="status_role disable when status_role === '-- Choose status --'  for status_role in role.Statuses"  ng-change="onChange(status_role)"><!--  -->
										    </select>
										</div>
										</br>
									</div>
								  </div>
								</div>				
							</div>
							
							<!-- Modal Footer -->
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">
											cancel
								</button>
								<button type="button" class="btn btn-primary" ng-click="delete_status_from_role()" data-dismiss="modal">
									delete
								</button>
							</div>
						</div>
					</div>
				</div>
	
				
				


							
				<div class="modal fade" id="add_new_role_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<!-- Modal Header -->
							<div class="modal-header">
								<button type="button" class="close" 
								   data-dismiss="modal">
									   <span aria-hidden="true">&times;</span>
									   <span class="sr-only">Close</span>
								</button>
								<h4 class="modal-title" id="myModalLabel">
									Add user role with matching statuses
								</h4>
							</div>
							</br>
							<!-- Modal Body -->
							<div class="modal-body">
								
								<div class="form-horizontal" role="form">
								  <div class="form-group">
								  </br>
									<div class="col-sm-10">
										<input class="form-control" ng-model="role_from_modal" placeholder="Enter new role for user..."/>
								    </div>
								  </div>
								  
								</div>
								
								</br>
								
								<div class="form-horizontal" role="form">
								  <div class="form-group">
								  </br>
									<div class="col-sm-10">
										Select role color: 
										<input id="role_color" type="color" name="favcolor" value="#66ffff"/><br><br>								    </div>
								  </div>
								  
								</div>
								
								</br>
								


                             <div class="row-fluid">
							    <select class="form-control"   ng-model="item" ng-options="objStatus as objStatus.Status disable when objStatus.Status  === '-- Choose status --' for objStatus in options " ng-change="selected_item(item,'new status')"  >
							    </select>
							</div>
						  </div>								
						
							</br>
							<!-- Modal Footer -->
							<div class="modal-footer">
								<button type="button" class="btn btn-default"
										data-dismiss="modal">
											Close
								</button>
								<button type="button" class="btn btn-primary" ng-click="save_new_role_status()" data-dismiss="modal">
									Save
								</button>
							</div>
							
						</div>
							<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
						  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
						  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>-->
					</div>
				</div>
					
			
			<div class="modal fade" id="update_role_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<!-- Modal Header -->
							<div class="modal-header">
								<button type="button" class="close" 
								   data-dismiss="modal">
									   <span aria-hidden="true">&times;</span>
									   <span class="sr-only">Close</span>
								</button>
								<h4 class="modal-title" id="myModalLabel">
									Select role and add to it additional statuses
								</h4>
							</div>
							
							<!-- Modal Body -->
							<div class="modal-body">
								
								<div class="form-horizontal" role="form">
								  <div class="form-group">
									<div class="col-sm-10">
										</br>
										<select class="form-control" data-show-subtext="true" data-live-search="true" ng-model="role" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="onChangeCategory(role,'update role')" ></select>	
										</br>
										<div class="row-fluid">
											<select class="form-control" ng-model="item" ng-options="objStatus as objStatus.Status disable when objStatus.Status  === '-- Choose status for role --' for objStatus in options " ng-change="selected_item(item,'update role')"  >
											</select>
										</div>
										</br>
									</div>
								  </div>
								</div>				
							</div>
							
							<!-- Modal Footer -->
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">
											cancel
								</button>
								<button type="button" class="btn btn-primary" ng-click="update_role_with_statuses()" data-dismiss="modal">
									update
								</button>
							</div>
						</div>
					</div>
				</div>
			
			<div class="modal fade" id="delete_role_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal Header -->
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">
								Choose role to delete
							</h4>
						</div>
						</br>
						<!-- Modal Body -->
						<div class="modal-body">
							
							<div class="row-fluid">
							   <select class="form-control"  ng-model="role" ng-options="objRole as objRole.Role disable when objRole.Role  === '-- Choose category for role --' for objRole in roles " ng-change="selected_item(role)"  >
							  </select>
							</div>
						  </div>
						  
							  				
						</br>
						
						<!-- Modal Footer -->
						<div class="modal-footer">
							<button type="button" class="btn btn-primary" data-dismiss="modal">
										cancel
							</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="delete_role(role)">
										delete
							</button>

						</div>
					</div>
						<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
						  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
						  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>-->
				</div>
			</div>
			<div class="modal fade" id="add_file_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal Header -->
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">
								Add file to system
							</h4>
						</div>
						</br>
						<!-- Modal Body -->
						<div class="modal-body">

							<div class="form-horizontal" >
								<div class="form control">
									<div class="row" ng-if="uploadSuccessful">
										<div class="col-sm-10">
											<div class="alert alert-success text-center">Upload successful!</div>
										</div>
									 </div>
									<div class="input-group col-sm-10">
									   <input type="file" id="fileUploadField" style="display: none;">
									   <input type="text" id="fileNameDisplayField" class="form-control" ng-model="uploadFileName" placeholder="File to Upload" readonly="readonly">
									   <div class="input-group-addon btn btn-default" ng-click="clickSelectFile()"><i class="glyphicon glyphicon-file"></i></div>
									</div>
															
									</br>
								</div>
							</div>
						</div>
						

						
						<!-- Modal Footer -->
						<div class="modal-footer">
							<button class="btn btn-default" ng-click="clearFileUpload()" data-dismiss="modal" >Cancel</button>
							<button class="btn btn-primary" ng-click="doUpload()" data-dismiss="modal" >
										Upload
							</button>

						</div>
					</div>
						<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
						  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
						  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>-->
				</div>
			</div>
			
			
			<div class="modal fade" id="delete_file_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal Header -->
						<div class="modal-header">
							<h4 class="modal-title" id="myModalLabel">
								Choose file to delete
							</h4>
						</div>
						</br>
						<!-- Modal Body -->
						<div class="modal-body">
							
							<div class="row-fluid">
							   <select class="form-control"  ng-model="file" ng-options="objFile as objFile.FileName disable when objFile.FileName  === '-- Choose file --' for objFile in files " ng-change="selected_item(file)"  >
							  </select>
							</div>
						  </div>
						  
							  				
						</br>
						
						<!-- Modal Footer -->
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">
										cancel
							</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="delete_file(file)">
										delete
							</button>

						</div>
					</div>
						<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
						  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
						  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>-->
				</div>
			</div>
			
			
		
			
			
			
		</div>
	
     
	</body>
	
	
</html>